<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hồ sơ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Oxanium:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/theme.css"/>
</head>
<body class="galaxy">
  <main class="page">
    <section class="hero">
      <div>
        <h1 class="hero-title">Hồ sơ người chơi</h1>
        <p class="hero-sub">Tổng quan hoạt động và cài đặt tài khoản</p>
      </div>
      <span class="badge">PROFILE</span>
    </section>

    <section class="space-frame fade-up">
      <div class="section">
        <h3 style="margin:0 0 10px 0;">Thông tin</h3>
        <div class="grid">
          <div>
            <div class="muted">Username</div>
            <div><b th:text="${user.username}">user</b></div>
          </div>
          <div>
            <div class="muted">Email</div>
            <div><b th:text="${user.email}">email</b></div>
          </div>
          <div>
            <div class="muted">Ngày tạo</div>
            <div><b th:text="${#temporals.format(user.createdAt, 'dd/MM/yyyy HH:mm')}">-</b></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h3 style="margin:0 0 10px 0;">Thống kê luyện tập</h3>
        <div class="grid">
          <div>
            <div class="muted">Tổng điểm</div>
            <div><b th:text="${practice.totalScore}">0</b></div>
          </div>
          <div>
            <div class="muted">Số lượt</div>
            <div><b th:text="${practice.totalPlays}">0</b></div>
          </div>
          <div>
            <div class="muted">Số câu đúng</div>
            <div><b th:text="${practice.totalCorrect}">0</b></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h3 style="margin:0 0 10px 0;">Thống kê battle</h3>
        <div class="grid">
          <div>
            <div class="muted">Tổng điểm</div>
            <div><b th:text="${battle.totalPoints}">0</b></div>
          </div>
          <div>
            <div class="muted">Số trận</div>
            <div><b th:text="${battle.matches}">0</b></div>
          </div>
          <div>
            <div class="muted">Thắng/Hòa/Thua</div>
            <div>
              <b th:text="${battle.wins}">0</b> /
              <b th:text="${battle.draws}">0</b> /
              <b th:text="${battle.losses}">0</b>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h3 style="margin:0 0 10px 0;">Đổi mật khẩu</h3>
        <div class="alert alert-success" th:if="${success}" th:text="${success}"></div>
        <div class="alert alert-error" th:if="${error}" th:text="${error}"></div>
        <form th:action="@{/profile/password}" method="post">
          <input class="form-control" type="password" name="currentPassword" placeholder="Mật khẩu hiện tại" required />
          <input class="form-control" type="password" name="newPassword" placeholder="Mật khẩu mới" required />
          <input class="form-control" type="password" name="confirmPassword" placeholder="Nhập lại mật khẩu mới" required />
          <button class="btn" type="submit">Cập nhật</button>
        </form>
      </div>

      <div class="section link-row">
        <a class="btn btn-ghost" href="/lobby">Về trang chủ</a>
        <a class="btn btn-ghost" href="/practice/history">Lịch sử luyện tập</a>
        <a class="btn btn-ghost" href="/battle/history">Lịch sử battle</a>
      </div>
    </section>
  </main>
</body>
</html>
